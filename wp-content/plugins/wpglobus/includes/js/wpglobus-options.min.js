jQuery(document).ready(function(s){"use strict";var e;"undefined"!=typeof WPGlobusOptions&&(e={currentTabID:"",firstLanguageCb:null,init:function(){e.initTab(),e.checkHandlers(),e.addListeners(),e.initSpecs()},setCurrentTabID:function(t){e.currentTabID=t},getCurrentTabID:function(){return e.currentTabID},setFirstLanguageCb:function(){null!==e.firstLanguageCb&&e.firstLanguageCb.off("click"),s('#enabled_languages-list li input[type="checkbox"]').prop("disabled",!1);var t=s("#enabled_languages-list li").eq(0);e.firstLanguageCb=t.find('input[type="checkbox"]'),e.firstLanguageCb.prop("checked","checked"),e.firstLanguageCb.prop("disabled","disabled"),e.firstLanguageCb.css({visibility:"hidden"}),e.firstLanguageCb.on("click",function(t){return t.preventDefault(),!1})},handlerEnabled_languages:function(){s(".wpglobus-sortable").sortable({placeholder:"ui-state-highlight",update:function(t,n){s('#enabled_languages-list li input[type="checkbox"]').css({visibility:"visible"}),e.setFirstLanguageCb()}}),s(".wpglobus-sortable").disableSelection(),e.setFirstLanguageCb()},handlerLanguagesTable:function(){var e=s("#wpglobus-options-languagesTable").parents(".wpglobus-options-tab").data("tab");s("#wpglobus-options-languagesTable .manage-column.sortable a").each(function(t,n){var a=s(n).attr("href");-1!=a.indexOf("tab")?-1==a.indexOf("tab-from")&&(a=a.replace(/tab/,"tab-from"),a+="&tab="+e):a+="&tab="+e,s(n).attr("href",a)})},checkHandlers:function(){s(".wpglobus-options-field").each(function(t,n){if(void 0===s(n).data("js-handler"))return!0;var a=s(n).data("js-handler");"function"==typeof e[a]&&e[a]()})},initTab:function(){var t=s("#section-tab-"+WPGlobusOptions.tab);e.setCurrentTabID(WPGlobusOptions.tab),0==t.length&&(e.setCurrentTabID(WPGlobusOptions.defaultTab),t=s("#section-tab-"+e.currentTabID)),t.css({display:"block"}),s("#wpglobus-tab-link-"+e.currentTabID).addClass("wpglobus-tab-link-active"),e.initLanguageTable(),s(".wpglobus-options-wrap .no-inline-js").attr("onclick","return false;"),setTimeout(function(){s("#section-tab-"+WPGlobusOptions.tab+" .wpglobus-options-menu .wpglobus-tab-link-subsection").eq(0).click()},200)},initLanguageTable:function(){var a,e,t=s(".wpglobus-the-language-item-installed");9<t.length||(a=[],t.each(function(t){var n=+s(this).data("order");a[n]=s(this)}),e=s("#wpglobus-options-languagesTable #the-list tr").eq(0),s.each(a,function(t,n){s(e).before(n)}))},addListeners:function(){s(document).on("click","input.wpglobus-enabled_languages",function(t){var n=s(this).prop("checked"),a=s(this).attr("rel");n?s("#"+a).val("1"):s("#"+a).val("")}),s(document).on("click",".wpglobus-tab-link",function(t){var n=s(this).data("tab");e.setCurrentTabID(n),window.history.pushState("data","Title",WPGlobusOptions.newUrl.replace("{*}",n)),s(".wpglobus-options-tab").css({display:"none"}),s("#section-tab-"+n).css({display:"block"}),s(".wpglobus-tab-link").removeClass("wpglobus-tab-link-active"),s("#wpglobus-tab-link-"+n).addClass("wpglobus-tab-link-active"),s("#wpglobus_options_current_tab").val(n),1==s("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").length?s("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").click():0<s("#section-tab-"+n+" .wpglobus-tab-link-subsection").length&&s("#section-tab-"+n+" .wpglobus-tab-link-subsection").eq(0).click()}),s(document).on("click",".wpglobus-tab-link-subsection",function(t){var n=s(this).data("tab");s(".wpglobus-options-tab-subsection").css({display:"none"}),s("#subsection-tab-"+n).css({display:"block"}),s(".wpglobus-tab-link-subsection").removeClass("wpglobus-tab-link-active"),s("#wpglobus-tab-link-subsection-"+n).addClass("wpglobus-tab-link-active")})},initSpecs:function(){s(document).on("dblclick","#section-tab-customizer h2",function(t){s(".wpglobus-theme-info-spec").removeClass("hidden")}),s(document).on("dblclick",".column-wpglobus_flag",function(t){location=location.href+"&flags"})}},(WPGlobusOptions=s.extend({},WPGlobusOptions,e)).init())});